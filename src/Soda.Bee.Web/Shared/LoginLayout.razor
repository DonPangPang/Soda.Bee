@using Soda.Bee.Web.Auth

<div class="bg" align="center" style="">
    <div align="center" style="width:80%;">
        <img src="https://skillicons.dev/icons?i=ps,ai,pr,c,cpp,cs,ts,discord,twitter,mongodb,instagram,idea,git" /><br>
        <!-- svg -->
        <img src="https://techstack-generator.vercel.app/kubernetes-icon.svg" alt="icon" width="65" style="width: 65px; height: 65px; margin-right: 0px; margin-bottom: 0px;" />
        <img src="https://techstack-generator.vercel.app/js-icon.svg" alt="icon" width="65" style="width: 65px; height: 65px; margin-right: 0px; margin-bottom: 0px;" />
        <img src="https://techstack-generator.vercel.app/mysql-icon.svg" alt="icon" width="65" style="width: 65px; height: 65px; margin-right: 0px; margin-bottom: 0px;" />
        <img src="https://techstack-generator.vercel.app/webpack-icon.svg" alt="icon" width="65" style="width: 65px; height: 65px; margin-right: 0px; margin-bottom: 0px;" />
        <img src="https://techstack-generator.vercel.app/docker-icon.svg" alt="icon" width="65" style="width: 65px; height: 65px; margin-right: 0px; margin-bottom: 0px;" />
        <img src="https://techstack-generator.vercel.app/redux-icon.svg" alt="icon" width="65" style="width: 65px; height: 65px; margin-right: 0px; margin-bottom: 0px;" />
        <img src="https://techstack-generator.vercel.app/java-icon.svg" alt="icon" width="65" style="width: 65px; height: 65px; margin-right: 0px; margin-bottom: 0px;" />
        <img src="https://techstack-generator.vercel.app/eslint-icon.svg" alt="icon" width="65" style="width: 65px; height: 65px; margin-right: 0px; margin-bottom: 0px;" />
        <img src="https://techstack-generator.vercel.app/aws-icon.svg" alt="icon" width="65" style="width: 65px; height: 65px; margin-right: 0px; margin-bottom: 0px;" />
        <img src="https://techstack-generator.vercel.app/ts-icon.svg" alt="icon" width="65" style="width: 65px; height: 65px; margin-right: 0px; margin-bottom: 0px;" />
        <img src="https://techstack-generator.vercel.app/nginx-icon.svg" alt="icon" width="65" style="width: 65px; height: 65px; margin-right: 0px; margin-bottom: 0px;" /><br>

        <!-- gif -->
        <img height="100" width="100" src="https://cdn.jsdelivr.net/gh/DonPangPang/DonPangPang/assets/images/html.webp">
        <img height="100" width="100" src="https://cdn.jsdelivr.net/gh/DonPangPang/DonPangPang/assets/images/cssgif.webp">
        <img height="100" width="100" src="https://cdn.jsdelivr.net/gh/DonPangPang/DonPangPang/assets/images/vscode.webp">
        <img height="100" width="100" src="https://cdn.jsdelivr.net/gh/DonPangPang/DonPangPang/assets/images/react.webp">
        <img height="95" width="95" src="https://cdn.jsdelivr.net/gh/DonPangPang/DonPangPang/assets/images/vue.webp">
        <img height="100" width="100" src="https://cdn.jsdelivr.net/gh/DonPangPang/DonPangPang/assets/images/python.webp">
        <img height="100" width="100" src="https://cdn.jsdelivr.net/gh/DonPangPang/DonPangPang/assets/images/js.webp">
        <img height="100" width="100" src="https://cdn.jsdelivr.net/gh/DonPangPang/DonPangPang/assets/images/github.webp">
    </div>

    <!-- just img 图片 -->
    <footer>
        <img src="https://cdn.jsdelivr.net/gh/DonPangPang/DonPangPang/assets/images/icon.png" />
    </footer>
</div>
<MContainer Fluid>
    <div class="box">
        <MTextField @bind-value="@Name" TValue="string" Placeholder="开始新的旅程" Solo Clearable Style="height:40px;">
            <AppendOuterContent>
                <MButton Fab Color="warning" Style="top: -16px"
                         OnClick="Login">
                    <MIcon>mdi-send</MIcon>
                </MButton>
            </AppendOuterContent>
        </MTextField>
    </div>
</MContainer>



<style>
    .box {
        width: 800px;
        margin-top: 200px;
        margin-left: auto;
        margin-right: auto;
    }

    .bg {
        position: absolute;
        bottom: 0px;
        left: 0px;
        right: 0px;
    }

</style>

@code {

    [Inject]
    private ILoginService LoginService { get; set; } = null!;

    [Inject]
    private IPopupService PopupService { get; set; } = null!;

    [Inject]
    private NavigationManager NavigationManager { get; set; } = null!;

    private string Name { get; set; } = string.Empty;

    private async Task Login()
    {
        if (string.IsNullOrWhiteSpace(Name))
        {
            await PopupService.EnqueueSnackbarAsync("请输入称呼!", AlertTypes.Error);
            return;
        }

        await LoginService.Login(Name);
        NavigationManager.NavigateTo("/");
    }
}
